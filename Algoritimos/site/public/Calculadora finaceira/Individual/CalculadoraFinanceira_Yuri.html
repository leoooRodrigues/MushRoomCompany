<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styleCalculadora.css" />
    <title>Calculadora Financeira</title>
  </head>
  <body>
    Quantos kilos são produzidos anualmente?<input id="ipt_producao" />
    Qual o preço de mercado praticado?<input id="ipt_preco" />
    Qual o custo anual de mão de obra?<input id="ipt_MO" />
    Qual o investimento anual com insumos?<input id="ipt_substrato" />
    Qual o custo anual energetico?<input id="ipt_kwhAno">
    <button onclick="calcular()">Calcular</button>
    
    <table id="table_dados"></table>
    
  </body>
  <script>
    function calcular(){

      // Preço médio do gasto de energia no último ano
      var energia = Number(ipt_kwhAno.value) * 0.85;
      //Preço do Substrato no ultimo ano
      var substrato = Number(ipt_substrato.value);
      // Preço da mão de obra no último ano
      var MO = Number(ipt_MO.value)
      // Quantidade produzida no último ano
      var producao = Number(ipt_producao.value) * 1.57;
      // Preço de mercado praticado
      var preco = Number(ipt_preco.value);
      // Custo Operacional Total (COT)
      var COT = substrato + energia + MO;
      //  Receita Bruta (RB)
      var RB = producao * preco;
      // Lucro Operacional (LO)
      var LO = RB - COT;
      // Margem Bruta (MB)
      var MB = (LO/RB)*100;
  
      table_dados.innerHTML = 
      `      
      <tbody>
        <tr>
          <th/>
          <th>Quantidade Produzida</th>
          <th>Preço de mercado</th>
          <th>Receita Bruta</th>
          <th>Custo Operacional Total</th>
          <th>Margem Bruta</th>
          <th>Lucro Operacional</th>
        </tr>
        <tr>
          <th>COM a Mush Room.co</th>
          <td>${producao}Kg</td>
          <td>R$${preco}</td>
          <td>R$${RB}</td>
          <td>R$${COT}</td>
          <td>${MB.toFixed(1)}%</td>
          <td>R$${LO}</td>
        </tr>
      <tbody/>
      `;

      producao = Number(ipt_producao.value);
      energia = Number(ipt_kwhAno.value);
      RB = producao * preco;
      COT = substrato + energia + MO;
      LO = RB - COT;
      MB = (LO/RB)*100;

      table_dados.innerHTML += 
      `
      <tbody>
        <tr>
            <th>SEM a Mush Room.co</th>
            <td>${producao}Kg</td>
            <td>R$${preco}</td>
            <td>R$${RB}</td>
            <td>R$${COT}</td>
            <td>${MB.toFixed(1)}%</td>
            <td>R$${LO}</td>
        </tr>
      <tbody/>
      `
    };
  </script>
</html>
